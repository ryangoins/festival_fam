{% extends 'base.html' %}

{% load staticfiles %}

{% block content %}

    <form class="form-horizontal" action="" method="post">
        {% csrf_token %}
        {{ form.as_p }}

        <h3>Ingredients</h3>
        {{ ingredient_forms.management_form }}
        {% for ingredient_form in ingredient_forms %}
        <div id="ingredient-form-container">
                {{ ingredient_form.as_p }}
                {{ ingredient_form.id }}
                <!-- { crispy ingredient_form } -->
        </div>
        {% endfor %}

        <button class="btn btn-primary btn-lg" type="submit">Add a Meal</button>
    </form>

<!-- Include formset plugin - including jQuery dependency -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="{% static 'js/jquery.formset.js' %}"></script>
<script>
    $('#ingredient-form-container').formset({
        addText: 'add ingredient',
        deleteText: 'remove ingredient'
    });
</script>

{% endblock content %}
