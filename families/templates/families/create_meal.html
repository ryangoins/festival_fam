{% extends 'base.html' %}

{% load staticfiles %}

{% block content %}

    <form class="form-horizontal" action="" method="post">
        {% csrf_token %}
        {{ form.as_p }}

        <h3>Ingredients</h3>
        {% csrf_token %}
        {{ ingredient_forms.management_form }}
        <div id="ingredient-form-container">
            {% for ingredient_form in ingredient_forms %}
                <div id="ingredient-{{ forloop.counter0 }}">
                    {{ ingredient_form.id }}
                    {{ ingredient_form.as_p }}
                </div>
            {% endfor %}
        </div>
        <button class="btn btn-primary btn-lg" type="submit">Add a Meal</button>
    </form>

<!-- Include formset plugin - including jQuery dependency -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="{% static 'path_to/jquery.formset.js' %}"></script>
<script>
    $('.ingredient-form-container').formset({
        addText: 'add ingredient',
        deleteText: 'remove ingredient'
    });
</script>

{% endblock content %}
